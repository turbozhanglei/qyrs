<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- 参数管理手工映射SQL语句 -->
<!-- 参数管理手工映射SQL语句 -->
<mapper namespace="warehouseAssessment">

    <!-- 列表查询 -->
    <select id="queryList" parameterType="map" resultType="dto">
        SELECT
        provider.name,
        sku.number,
        wms_provider.warehouses_number,
        wms_provider.out_warehouses_number,
        wms_provider.defects_number,
        wms_provider.unit,
        wms_provider.adate,
        wms_provider.remark
        FROM
        oms_assessment_wms_provider wms_provider
        LEFT JOIN oms_cmn_provider provider ON provider.id = wms_provider.provider_id
        LEFT JOIN oms_sku sku ON sku.id = wms_provider.id
        <if test="null!=provider_id  and ''!= provider_id">
            and wms_provider.provider_id = provider_id
        </if>
        <if test="null!=_begin_time">
            and wms_provider.adate BETWEEN ''
        </if>
        <if test="null!=_begin_time  and ''!= _begin_time">
            and wms_provider.adate BETWEEN #{_begin_time}
        </if>
        <if test="null!=_end_time">
            and now()
        </if>
        <if test="null!=_end_time  and ''!= _end_time">
            and #{_end_time}
        </if>
        and wms_provider.is_delete = 'N'
    </select>
</mapper>
