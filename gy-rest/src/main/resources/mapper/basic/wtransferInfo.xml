<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="wtransferInfo">
    
    <!--条件 -->
	<sql id="whereCondition">
		<where>
            <if test="id!=null and ''!=id">
                  AND id=#{id}
            </if> 
            <if test="transfer_store!=null and ''!=transfer_store">
                  AND transfer_store=  like concat('%',#{transfer_store},'%')
            </if> 
            <if test="transfer_store_address!=null and ''!=transfer_store_address">
                  AND transfer_store_address=#{transfer_store_address}
            </if> 
            <if test="transfer_people!=null and ''!=transfer_people">
                  AND transfer_people=#{transfer_people}
            </if> 
            <if test="transfer_people_mobile!=null and ''!=transfer_people_mobile">
                  AND transfer_people_mobile=#{transfer_people_mobile}
            </if> 
            <if test="storage_temp!=null and ''!=storage_temp">
                  AND storage_temp  like concat('%',#{storage_temp},'%')
            </if>  
            <if test="dept_id!=null and ''!=dept_id">
                  AND dept_id=#{dept_id}
            </if> 

		</where>
	</sql>
    <!--数据插入 -->
	<insert id="saveInfo" parameterType="map">
		INSERT INTO w_transfer_info
        <trim prefix="(" suffix=")" suffixOverrides=",">
		(
            <if test="transfer_store!=null and ''!=transfer_store">
                transfer_store,
            </if> 
            <if test="transfer_store_address!=null and ''!=transfer_store_address">
                transfer_store_address,
            </if> 
            <if test="transfer_people!=null and ''!=transfer_people">
                transfer_people,
            </if> 
            <if test="transfer_people_mobile!=null and ''!=transfer_people_mobile">
                transfer_people_mobile,
            </if> 
            <if test="storage_temp!=null and ''!=storage_temp">
                storage_temp,
            </if>  
            <if test="creator!=null and ''!=creator">
                creator,
            </if>  
            <if test="update_time!=null and ''!=update_time">
                update_time,
            </if> 
            <if test="updator!=null and ''!=updator">
                updator,
            </if> 
            <if test="dept_id!=null and ''!=dept_id">
                dept_id,
            </if>
            create_time,
            is_delete
		)
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
		(
            <if test="transfer_store!=null and ''!=transfer_store">
                #{transfer_store},
            </if> 
            <if test="transfer_store_address!=null and ''!=transfer_store_address">
                #{transfer_store_address},
            </if> 
            <if test="transfer_people!=null and ''!=transfer_people">
                #{transfer_people},
            </if> 
            <if test="transfer_people_mobile!=null and ''!=transfer_people_mobile">
                #{transfer_people_mobile},
            </if> 
            <if test="storage_temp!=null and ''!=storage_temp">
                #{storage_temp},
            </if> 
            <if test="create_time!=null and ''!=create_time">
                #{create_time},
            </if> 
            <if test="creator!=null and ''!=creator">
                #{creator},
            </if> 
            <if test="is_delete!=null and ''!=is_delete">
                #{is_delete},
            </if> 
            <if test="update_time!=null and ''!=update_time">
                #{update_time},
            </if> 
            <if test="updator!=null and ''!=updator">
                #{updator},
            </if> 
            <if test="dept_id!=null and ''!=dept_id">
                #{dept_id},
            </if> 
		)
        </trim>
	</insert>
	<update id="updateInfo" parameterType="map">
		update w_transfer_info
        <set>
            <if test="transfer_store!=null and ''!=transfer_store">transfer_store=#{transfer_store},</if>
            <if test="transfer_store_address!=null and ''!=transfer_store_address">transfer_store_address=#{transfer_store_address},</if>
            <if test="transfer_people!=null and ''!=transfer_people">transfer_people=#{transfer_people},</if>
            <if test="transfer_people_mobile!=null and ''!=transfer_people_mobile">transfer_people_mobile=#{transfer_people_mobile},</if>
            <if test="storage_temp!=null and ''!=storage_temp">storage_temp=#{storage_temp},</if>
            <if test="create_time!=null and ''!=create_time">create_time=#{create_time},</if>
            <if test="creator!=null and ''!=creator">creator=#{creator},</if>
            <if test="is_delete!=null and ''!=is_delete">is_delete=#{is_delete},</if>
            <if test="update_time!=null and ''!=update_time">update_time=#{update_time},</if>
            <if test="updator!=null and ''!=updator">updator=#{updator},</if>
            <if test="dept_id!=null and ''!=dept_id">dept_id=#{dept_id}</if>
        </set>
        WHERE
            id=#{id}

	</update>
	<select id="queryList" parameterType="map" resultType="dto">
		select 
		 *
		from w_transfer_info
		<include refid="whereCondition"/>
		<if test="null!=start">
            limit ${start}  ,${end}
		</if>
	</select>

	<select id="queryListCount" parameterType="map" resultType="dto">
		select count(1) as total
		from w_transfer_info
		<include refid="whereCondition"/>
	</select>

	<select id="getInfo" parameterType="map" resultType="dto">
		select
		 *
		from w_transfer_info
		<include refid="whereCondition"/>
	</select>

</mapper>
